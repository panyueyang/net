<h1 id="a">请登录查看题目</h1>
<input id="ans">
<button onclick="tick()">提交</button>
<img id="img">
<script>
function right()
	{
	document.getElementById("img").src="yes.jpg"	
	}
function wrong()
	{
	document.getElementById("img").src="no.JPG"	
	}
  function load(name) {
		    let xhr = new XMLHttpRequest(),
		        okStatus = document.location.protocol === "file:" ? 0 : 200;
		    xhr.open('GET', name, false);
		    xhr.overrideMimeType("text/html;charset=utf-8");//默认为utf-8
			try{
				xhr.send(null);
			}catch(err){
				alert(err);
				return null;//TODO handle the exception
			}
			finally{
		    return xhr.status === okStatus ? xhr.responseText : null;}
		}
function getQueryString(name) {
        var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)", "i");
        var r = window.location.search.substr(1).match(reg);
        if (r != null) return unescape(r[2]); return null;
    }
  if(getQueryString("login")=="true")
  { document.getElementById("a").innerHTML=load("exam/"+getQueryString("exam")+"/name.txt");
   document.title = '已登录';
   console.info("OK!");}
	else console.error("Error: %s(%s,%s)", "Login false",getQueryString("login"),"true")
function tick()
	{
		if(document.getElementById("ans").value==load("exam/"+getQueryString("exam")+"/answer.txt"))
			right()
		else wrong()
	}
</script>
